!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.ChildMittPlugin=n():e.ChildMittPlugin=n()}(window,function(){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=t(1).default,r=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.onRestart,o=void 0===t?function(){}:t,r=n.onPause,a=void 0===r?function(){}:r,u=n.onResume,f=void 0===u?function(){}:u,c=n.onVolumeChange,l=void 0===c?function(){}:c,s=n.onHint,d=void 0===s?function(){}:s,p=n.onInit,v=void 0===p?function(){}:p;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),i.init(),i.on("child:restart",function(){o()}),i.on("child:pause",function(){a()}),i.on("child:resume",function(){f()}),i.on("child:volume-change",function(e){l(e.data)}),i.on("child:hint",function(){d()}),i.on("child:init",function(e){v(e.data)})}var n,t,r;return n=e,(t=[{key:"loaded",value:function(){i.emit("parent:loaded",{targetOrigin:"*"})}},{key:"emitAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.emit("parent:action",{message:{type:e.type,feature:e.feature},targetOrigin:"*"})}},{key:"gameStart",value:function(){i.emit("parent:game-start",{targetOrigin:"*"})}},{key:"gameOver",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.emit("parent:game-over",{message:{duration:e.duration,failTime:e.failTime},targetOrigin:"*"})}}])&&o(n.prototype,t),r&&o(n,r),e}();e.exports=r},function(e,n,t){"use strict";t.r(n);var o=function(e){return e=e||Object.create(null),{on:function(n,t){(e[n]||(e[n]=[])).push(t)},off:function(n,t){e[n]&&e[n].splice(e[n].indexOf(t)>>>0,1)},emit:function(n,t){(e[n]||[]).slice().map(function(e){e(t)}),(e["*"]||[]).slice().map(function(e){e(n,t)})}}};function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.d(n,"default",function(){return a});var r=o(),a=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,o;return n=e,o=[{key:"init",value:function(){window.addEventListener("message",function(e){if(e.data&&e.data.type){var n={data:e.data.message,origin:e.origin,source:e.source};r.emit(e.data.type,n)}});this.postMessage({type:"iframe_mitt:ready",data:"ready"},"*"),window.console.info("iframe mitt ready")}},{key:"postMessage",value:function(e,n,t){window.parent&&window.parent.postMessage(e,n,t)}},{key:"emit",value:function(e,n){var t=n.message,o=n.targetOrigin,i=n.transfer,r={type:e,message:t};this.postMessage(r,o,i)}},{key:"on",value:function(e,n){r.on(e,n)}},{key:"off",value:function(e,n){r.off(e,n)}}],(t=null)&&i(n.prototype,t),o&&i(n,o),e}()}])});